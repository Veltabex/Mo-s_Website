<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Personal website" />
    <title>Mo | Cybersecurity Portfolio</title>
    <link rel="canonical" href="https://veltabex.github.io/Mo-s_Website/" />
    <base href="/Mo-s_Website/" />
    <script defer src="bundle.js"></script>
    <script>
      // GitHub Pages SPA handling
      (function(l){
        if (l.search) {
          var q={};
          l.search.slice(1).split('&').forEach(function(v){
            var a=v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g,'&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null,null,
              l.pathname.slice(0,-1) + (q.p||'') + (q.q?('?'+q.q):'') + l.hash
            );
          }
        }
      })(window.location);
      // Suppress dev websocket noise
      window.addEventListener('error', function(e){
        if (e.message && e.message.includes('WebSocket')) { e.preventDefault(); return false; }
      });
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&display=swap" rel="stylesheet">
  </head>
  <body>
    <script>
      // Under construction banner (yellow/black) pinned above navbar
      (function(){
        function adjustOffset(){
          var b = document.getElementById('uc-banner');
          var header = document.querySelector('header');
          if (b && header) {
            // Offset the sticky header so it sits below the banner
            header.style.top = b.offsetHeight + 'px';
            // Ensure header renders above content but below banner
            header.style.zIndex = '9998';
          }
        }
        function addBanner(){
          if (document.getElementById('uc-banner')) return;
          var b = document.createElement('div');
          b.id = 'uc-banner';
          b.setAttribute('role','status');
          b.style.position = 'fixed';
          b.style.top = '0';
          b.style.left = '0';
          b.style.right = '0';
          b.style.zIndex = '9999';
          b.style.backgroundColor = '#facc15'; /* yellow */
          b.style.backgroundImage = 'repeating-linear-gradient(45deg, rgba(0,0,0,.15) 0 12px, rgba(0,0,0,0) 12px 24px)';
          b.style.color = '#111827'; /* near-black text */
          b.style.padding = '10px 12px';
          b.style.textAlign = 'center';
          b.style.fontFamily = "'Poppins', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial";
          b.style.fontWeight = '700';
          b.style.letterSpacing = '.02em';
          b.textContent = 'ðŸš§ Under construction â€” updates in progress';
          document.body.insertBefore(b, document.body.firstChild);
          // Remove any previous body padding to avoid double offset
          document.body.style.paddingTop = '0px';
          adjustOffset();
          window.addEventListener('resize', adjustOffset);
        }
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', addBanner);
        } else {
          addBanner();
        }
      })();
    </script>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div id="loading" style="padding:20px;font-family:Arial;text-align:center">
      <h2>Loading...</h2>
      <p>If this persists, check the browser console for errors.</p>
    </div>
    <script>
      // Hide loading when React mounts content
      setTimeout(function(){
        var root = document.getElementById('root');
        var loader = document.getElementById('loading');
        if (root && root.innerHTML.trim() === '') {
          loader.innerHTML = '<h2>Application failed to load</h2><p>Please check the browser console for errors.</p>';
        } else if (loader) {
          loader.style.display = 'none';
        }
      }, 3000);
    </script>
    <!-- Defer analytics to after page load -->
    <script>
      window.addEventListener('load', function(){
        (function (t, e) {
          var o, n, p, r;
          e.__SV || ((window.posthog = e), (e._i = []), (e.init = function (i, s, a) {
            function g(t, e) {
              var o = e.split('.'); 2 == o.length && ((t = t[o[0]]), (e = o[1])),
              (t[e] = function () { t.push([e].concat(Array.prototype.slice.call(arguments,0))); });
            }
            (p = t.createElement('script')).type = 'text/javascript';
            p.crossOrigin = 'anonymous'; p.async = !0;
            p.src = s.api_host.replace('.i.posthog.com','-assets.i.posthog.com') + '/static/array.js';
            (r = t.getElementsByTagName('script')[0]).parentNode.insertBefore(p, r);
            var u = e; void 0 !== a ? (u = e[a] = []) : (a = 'posthog'); u.people = u.people || [];
            u.toString = function (t) { var e = 'posthog'; return 'posthog' !== a && (e += '.' + a), t || (e += ' (stub)'), e; };
            u.people.toString = function () { return u.toString(1) + '.people (stub)'; };
            o = 'init me ws ys ps bs capture je Di ks register register_once register_for_session unregister unregister_for_session Ps getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Es $s createPersonProfile Is opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing Ss debug xs getPageViewId captureTraceFeedback captureTraceMetric'.split(' ');
            for (n = 0; n < o.length; n++) g(u, o[n]); e._i.push([i, s, a]);
          }), (e.__SV = 1));
        })(document, window.posthog || []);
        posthog.init('phc_yJW1VjHGGwmCbbrtczfqqNxgBDbhlhOWcdzcIJEOTFE', {
          api_host: 'https://us.i.posthog.com', person_profiles: 'identified_only'
        });
      });
    </script>
    <script>
      window.addEventListener('DOMContentLoaded', function(){
        var imgs = document.querySelectorAll('img[alt="Cybersecurity Professional"]');
        imgs.forEach(function(img){ img.src = 'images/1755617868930.jpeg'; });
      });
    </script>
    <script>
      // Runtime tweaks: availability note, resume link, and disabled nav button
      window.addEventListener('DOMContentLoaded', function(){
        var cvLink = 'https://www.dropbox.com/scl/fi/fn19drh0oans7t4aflt1n/CV.pdf?rlkey=8sm4yy6hq3v8zya3d8djb7agh&st=uc9887nu&dl=0';

        function wireResume(container){
          (container || document).querySelectorAll('button, a').forEach(function(el){
            if (el.textContent && el.textContent.trim() === 'Resume' && !el.hasAttribute('data-cv-wired')){
              el.setAttribute('data-cv-wired','1');
              el.addEventListener('click', function(ev){
                ev.preventDefault();
                window.open(cvLink, '_blank', 'noopener,noreferrer');
              });
            }
          });
        }

        function ensureFooterNote(){
          try {
            var availability = Array.from(document.querySelectorAll('div')).find(function(d){
              var t = d.textContent ? d.textContent.trim() : '';
              return t.includes('Open to opportunities');
            });
            if (availability && availability.parentElement && !availability.parentElement.querySelector('[data-work-in-progress]')) {
              var note = document.createElement('div');
              note.setAttribute('data-work-in-progress','');
              note.textContent = 'Website work in progress';
              note.className = 'text-xs text-slate-400 mt-1';
              availability.parentElement.appendChild(note);
            }
          } catch (_) {}
        }

        function ensureDesktopNavButton(){
          try {
            var desktopNav = document.querySelector('header nav');
            if (desktopNav && !desktopNav.querySelector('[data-cyber-bandit]')){
              var link = document.createElement('a');
              link.setAttribute('data-cyber-bandit','');
              link.href = 'cyber-help.html';
              link.textContent = 'Cyber Bandit';
              link.className = 'text-slate-300 hover:text-white font-medium';
              if (desktopNav.lastElementChild) {
                desktopNav.insertBefore(link, desktopNav.lastElementChild);
              } else {
                desktopNav.appendChild(link);
              }
            }
          } catch (_) {}
        }

        // Initial attempt (in case content mounts quickly)
        ensureFooterNote();
        ensureDesktopNavButton();
        wireResume(document);

        // Observe React mounts and updates
        try {
          var observer = new MutationObserver(function(){
            ensureFooterNote();
            ensureDesktopNavButton();
            // Mobile menu: insert disabled button and wire Resume when menu appears
            document.querySelectorAll('div.px-2.pt-2.pb-3.space-y-1').forEach(function(menu){
              if (!menu.querySelector('[data-cyber-bandit]')){
                var mb = document.createElement('a');
                mb.setAttribute('data-cyber-bandit','');
                mb.href = 'cyber-help.html';
                mb.textContent = 'Cyber Bandit';
                mb.className = 'block w-full text-left px-3 py-2 text-slate-300 hover:text-white rounded-md';
                var resumeContainer = menu.querySelector('div.px-3.py-2');
                if (resumeContainer){
                  menu.insertBefore(mb, resumeContainer);
                } else {
                  menu.appendChild(mb);
                }
              }
              wireResume(menu);
            });
            wireResume(document);
          });
          observer.observe(document.body, { childList: true, subtree: true });
        } catch (_) {}
      });
    </script>
    <script>
      // Ensure hero image is swapped to local asset even after React updates
      window.addEventListener('DOMContentLoaded', function(){
        var localHero = 'images/1755617868930.jpeg';
        function ensureHeroImage(){
          document.querySelectorAll('img[alt="Cybersecurity Professional"]').forEach(function(img){
            if (!img.src.includes('/images/1755617868930.jpeg')){
              img.src = localHero;
              img.loading = 'eager';
              img.decode?.().catch(function(){});
            }
          });
        }
        // Initial
        ensureHeroImage();
        // Keep enforcing on mutations (React re-renders)
        try {
          var heroObs = new MutationObserver(function(){ ensureHeroImage(); });
          heroObs.observe(document.body, { childList: true, subtree: true });
        } catch (_) {}
      });
    </script>
    <script>
      // Enhanced collaborators strip: centered under hero, bigger logos, captions and order per user
      window.addEventListener('DOMContentLoaded', function(){
        var fontFamily = "'Poppins', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial";
        // Replace list with ordered config
        var collaborators = [
          { file: 'Uni_Landscape_Pos_Lrg-e1662406285626.png', title: 'University of Exeter', order: 1 },
          { file: 'GlitchLogo.png',                                title: 'Bsides Exeter', order: 2 },
          { file: 'SW_CSC_800x200-copy-3.jpg',                      title: 'SWCSC', order: 3 },
          { file: 'CIISec.png',                                     title: 'Charted Instiute of Information Security', order: 4 },
          { file: '9Enbmx2SSWNFtJbpNVSoMV6hof5xMDX00pilgGcY.png',  title: 'Exeter Computer Science Society', order: 5 },
          { file: 'swgfl-strap.png',                                title: 'SWGfL', order: 6 },
          { file: '19308506a9d5fb8af5306ea4fe2bca69.jpeg',         title: 'Hack South West', order: 7 }
        ];

        function ensureCollaboratorsBar(){
          var heroImg = document.querySelector('img[alt="Cybersecurity Professional"]');
          if (!heroImg) return;
          var container = heroImg.closest('div.relative.w-full') || heroImg.parentElement;
          if (!container) return;
          if (container.parentElement && container.parentElement.querySelector('[data-collaborators-strip]')) return;

          var bar = document.createElement('div');
          bar.setAttribute('data-collaborators-strip','');
          bar.style.marginTop = '14px';
          bar.style.display = 'flex';
          bar.style.flexWrap = 'wrap';
          bar.style.alignItems = 'flex-start';
          bar.style.justifyContent = 'center';
          bar.style.gap = '20px 32px';
          bar.style.width = '100%';
          bar.style.textAlign = 'center';

          var label = document.createElement('div');
          label.textContent = 'Collaboratored with:';
          label.style.fontFamily = fontFamily;
          label.style.fontWeight = '700';
          label.style.fontSize = '20px';
          label.style.color = 'rgb(226 232 240)';
          label.style.width = '100%';
          label.style.marginBottom = '8px';
          bar.appendChild(label);

          collaborators.sort(function(a,b){ return a.order - b.order; }).forEach(function(item){
            var cell = document.createElement('div');
            cell.style.display = 'flex';
            cell.style.flexDirection = 'column';
            cell.style.alignItems = 'center';
            cell.style.justifyContent = 'flex-start';
            cell.style.gap = '10px';

            var isECS = item.title === 'Exeter Computer Science Society' || /exeter computer science/i.test(item.title) || item.file === '9Enbmx2SSWNFtJbpNVSoMV6hof5xMDX00pilgGcY.png';
            var size = isECS ? 72 : 120; // keep ECS smaller, others larger
            var scale = isECS ? '90%' : '95%';

            var box = document.createElement('div');
            box.style.display = 'flex';
            box.style.alignItems = 'center';
            box.style.justifyContent = 'center';
            box.style.width = size + 'px';
            box.style.height = size + 'px';
            box.style.borderRadius = '12px';
            box.style.background = 'transparent';
            box.style.overflow = 'hidden';

            var img = document.createElement('img');
            img.src = 'images/collaborators/' + item.file;
            img.alt = item.title;
            img.title = item.title;
            img.style.maxWidth = scale;
            img.style.maxHeight = scale;
            img.style.objectFit = 'contain';
            box.appendChild(img);
            cell.appendChild(box);

            var caption = document.createElement('span');
            caption.textContent = item.title;
            caption.style.fontFamily = fontFamily;
            caption.style.fontSize = '14px';
            caption.style.color = 'rgb(203 213 225)';
            caption.style.lineHeight = '1.2';
            caption.style.maxWidth = '160px';
            caption.style.wordBreak = 'break-word';
            cell.appendChild(caption);

            bar.appendChild(cell);
          });

          if (container.parentElement) {
            container.parentElement.insertBefore(bar, container.nextSibling);
          } else {
            container.appendChild(bar);
          }
        }

        ensureCollaboratorsBar();
        try {
          var collObs = new MutationObserver(function(){ ensureCollaboratorsBar(); });
          collObs.observe(document.body, { childList: true, subtree: true });
        } catch (_) {}
      });
    </script>
  </body>
</html>
