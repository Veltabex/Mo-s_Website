<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Personal website" />
    <title>Mo | Cybersecurity Portfolio</title>
    <link rel="canonical" href="https://veltabex.github.io/Mo-s_Website/" />
    <base href="/Mo-s_Website/" />
    <script defer src="bundle.js"></script>
    <script>
      // GitHub Pages SPA handling
      (function(l){
        if (l.search) {
          var q={};
          l.search.slice(1).split('&').forEach(function(v){
            var a=v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g,'&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null,null,
              l.pathname.slice(0,-1) + (q.p||'') + (q.q?('?'+q.q):'') + l.hash
            );
          }
        }
      })(window.location);
      // Suppress dev websocket noise
      window.addEventListener('error', function(e){
        if (e.message && e.message.includes('WebSocket')) { e.preventDefault(); return false; }
      });
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&display=swap" rel="stylesheet">
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div id="loading" style="padding:20px;font-family:Arial;text-align:center">
      <h2>Loading...</h2>
      <p>If this persists, check the browser console for errors.</p>
    </div>
    <script>
      // Hide loading when React mounts content
      setTimeout(function(){
        var root = document.getElementById('root');
        var loader = document.getElementById('loading');
        if (root && root.innerHTML.trim() === '') {
          loader.innerHTML = '<h2>Application failed to load</h2><p>Please check the browser console for errors.</p>';
        } else if (loader) {
          loader.style.display = 'none';
        }
      }, 3000);
    </script>
    <!-- Defer analytics to after page load -->
    <script>
      window.addEventListener('load', function(){
        (function (t, e) {
          var o, n, p, r;
          e.__SV || ((window.posthog = e), (e._i = []), (e.init = function (i, s, a) {
            function g(t, e) {
              var o = e.split('.'); 2 == o.length && ((t = t[o[0]]), (e = o[1])),
              (t[e] = function () { t.push([e].concat(Array.prototype.slice.call(arguments,0))); });
            }
            (p = t.createElement('script')).type = 'text/javascript';
            p.crossOrigin = 'anonymous'; p.async = !0;
            p.src = s.api_host.replace('.i.posthog.com','-assets.i.posthog.com') + '/static/array.js';
            (r = t.getElementsByTagName('script')[0]).parentNode.insertBefore(p, r);
            var u = e; void 0 !== a ? (u = e[a] = []) : (a = 'posthog'); u.people = u.people || [];
            u.toString = function (t) { var e = 'posthog'; return 'posthog' !== a && (e += '.' + a), t || (e += ' (stub)'), e; };
            u.people.toString = function () { return u.toString(1) + '.people (stub)'; };
            o = 'init me ws ys ps bs capture je Di ks register register_once register_for_session unregister unregister_for_session Ps getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Es $s createPersonProfile Is opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing Ss debug xs getPageViewId captureTraceFeedback captureTraceMetric'.split(' ');
            for (n = 0; n < o.length; n++) g(u, o[n]); e._i.push([i, s, a]);
          }), (e.__SV = 1));
        })(document, window.posthog || []);
        posthog.init('phc_yJW1VjHGGwmCbbrtczfqqNxgBDbhlhOWcdzcIJEOTFE', {
          api_host: 'https://us.i.posthog.com', person_profiles: 'identified_only'
        });
      });
    </script>
    <script>
      window.addEventListener('DOMContentLoaded', function(){
        var imgs = document.querySelectorAll('img[alt="Cybersecurity Professional"]');
        imgs.forEach(function(img){ img.src = 'images/1755617868930.jpeg'; });
      });
    </script>
    <script>
      // Runtime tweaks: availability note, resume link, and disabled nav button
      window.addEventListener('DOMContentLoaded', function(){
        var cvLink = 'https://www.dropbox.com/scl/fi/fn19drh0oans7t4aflt1n/CV.pdf?rlkey=8sm4yy6hq3v8zya3d8djb7agh&st=uc9887nu&dl=0';

        function wireResume(container){
          (container || document).querySelectorAll('button, a').forEach(function(el){
            if (el.textContent && el.textContent.trim() === 'Resume' && !el.hasAttribute('data-cv-wired')){
              el.setAttribute('data-cv-wired','1');
              el.addEventListener('click', function(ev){
                ev.preventDefault();
                window.open(cvLink, '_blank', 'noopener,noreferrer');
              });
            }
          });
        }

        function ensureFooterNote(){
          try {
            var availability = Array.from(document.querySelectorAll('div')).find(function(d){
              var t = d.textContent ? d.textContent.trim() : '';
              return t.includes('Open to opportunities');
            });
            if (availability && availability.parentElement && !availability.parentElement.querySelector('[data-work-in-progress]')) {
              var note = document.createElement('div');
              note.setAttribute('data-work-in-progress','');
              note.textContent = 'Website work in progress';
              note.className = 'text-xs text-slate-400 mt-1';
              availability.parentElement.appendChild(note);
            }
          } catch (_) {}
        }

        function ensureDesktopNavButton(){
          try {
            var desktopNav = document.querySelector('header nav');
            if (desktopNav && !desktopNav.querySelector('[data-cyber-bandit]')){
              var disabledBtn = document.createElement('button');
              disabledBtn.setAttribute('data-cyber-bandit','');
              disabledBtn.disabled = true;
              disabledBtn.textContent = 'Cyber Bandit page redirect';
              disabledBtn.className = 'text-slate-500 cursor-not-allowed transition-colors duration-200 font-medium';
              if (desktopNav.lastElementChild) {
                desktopNav.insertBefore(disabledBtn, desktopNav.lastElementChild);
              } else {
                desktopNav.appendChild(disabledBtn);
              }
            }
          } catch (_) {}
        }

        // Initial attempt (in case content mounts quickly)
        ensureFooterNote();
        ensureDesktopNavButton();
        wireResume(document);

        // Observe React mounts and updates
        try {
          var observer = new MutationObserver(function(){
            ensureFooterNote();
            ensureDesktopNavButton();
            // Mobile menu: insert disabled button and wire Resume when menu appears
            document.querySelectorAll('div.px-2.pt-2.pb-3.space-y-1').forEach(function(menu){
              if (!menu.querySelector('[data-cyber-bandit]')){
                var mb = document.createElement('button');
                mb.setAttribute('data-cyber-bandit','');
                mb.disabled = true;
                mb.textContent = 'Cyber Bandit page redirect';
                mb.className = 'block w-full text-left px-3 py-2 text-slate-500 cursor-not-allowed rounded-md';
                var resumeContainer = menu.querySelector('div.px-3.py-2');
                if (resumeContainer){
                  menu.insertBefore(mb, resumeContainer);
                } else {
                  menu.appendChild(mb);
                }
              }
              wireResume(menu);
            });
            wireResume(document);
          });
          observer.observe(document.body, { childList: true, subtree: true });
        } catch (_) {}
      });
    </script>
    <script>
      // Ensure hero image is swapped to local asset even after React updates
      window.addEventListener('DOMContentLoaded', function(){
        var localHero = 'images/1755617868930.jpeg';
        function ensureHeroImage(){
          document.querySelectorAll('img[alt="Cybersecurity Professional"]').forEach(function(img){
            if (!img.src.includes('/images/1755617868930.jpeg')){
              img.src = localHero;
              img.loading = 'eager';
              img.decode?.().catch(function(){});
            }
          });
        }
        // Initial
        ensureHeroImage();
        // Keep enforcing on mutations (React re-renders)
        try {
          var heroObs = new MutationObserver(function(){ ensureHeroImage(); });
          heroObs.observe(document.body, { childList: true, subtree: true });
        } catch (_) {}
      });
    </script>
    <script>
      // Enhanced collaborators strip: centered under hero, bigger logos, captions from file name
      window.addEventListener('DOMContentLoaded', function(){
        var fontFamily = "'Poppins', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial";
        var collaboratorFiles = [
          '19308506a9d5fb8af5306ea4fe2bca69.jpeg',
          '9Enbmx2SSWNFtJbpNVSoMV6hof5xMDX00pilgGcY.png',
          'CIISec.png',
          'GlitchLogo.png',
          'swgfl-strap.png',
          'SW_CSC_800x200-copy-3.jpg',
          'Uni_Landscape_Pos_Lrg-e1662406285626.png'
        ];

        function displayName(file){
          try {
            var name = file.split('/').pop().replace(/\.[^/.]+$/, '');
            return name.replace(/[_-]+/g, ' ').trim();
          } catch (_) { return file; }
        }

        function ensureCollaboratorsBar(){
          var heroImg = document.querySelector('img[alt="Cybersecurity Professional"]');
          if (!heroImg) return;
          var container = heroImg.closest('div.relative.w-full') || heroImg.parentElement;
          if (!container) return;
          if (container.parentElement && container.parentElement.querySelector('[data-collaborators-strip]')) return;

          var bar = document.createElement('div');
          bar.setAttribute('data-collaborators-strip','');
          bar.style.marginTop = '12px';
          bar.style.display = 'flex';
          bar.style.flexWrap = 'wrap';
          bar.style.alignItems = 'flex-start';
          bar.style.justifyContent = 'center';
          bar.style.gap = '14px 24px';
          bar.style.width = '100%';
          bar.style.textAlign = 'center';

          var label = document.createElement('div');
          label.textContent = 'Collaboratored with:';
          label.style.fontFamily = fontFamily;
          label.style.fontWeight = '700';
          label.style.fontSize = '18px';
          label.style.color = 'rgb(226 232 240)';
          label.style.width = '100%';
          label.style.marginBottom = '6px';
          bar.appendChild(label);

          collaboratorFiles.forEach(function(file){
            var cell = document.createElement('div');
            cell.style.display = 'flex';
            cell.style.flexDirection = 'column';
            cell.style.alignItems = 'center';
            cell.style.justifyContent = 'flex-start';
            cell.style.gap = '6px';

            var box = document.createElement('div');
            box.style.display = 'flex';
            box.style.alignItems = 'center';
            box.style.justifyContent = 'center';
            box.style.width = '56px';
            box.style.height = '56px';
            box.style.borderRadius = '10px';
            box.style.background = 'white';
            box.style.overflow = 'hidden';

            var img = document.createElement('img');
            img.src = 'images/collaborators/' + file;
            img.alt = displayName(file);
            img.title = displayName(file);
            img.style.maxWidth = '90%';
            img.style.maxHeight = '90%';
            img.style.objectFit = 'contain';
            box.appendChild(img);
            cell.appendChild(box);

            var caption = document.createElement('span');
            caption.textContent = displayName(file);
            caption.style.fontFamily = fontFamily;
            caption.style.fontSize = '12px';
            caption.style.color = 'rgb(203 213 225)';
            caption.style.lineHeight = '1.1';
            caption.style.maxWidth = '90px';
            caption.style.wordBreak = 'break-word';
            cell.appendChild(caption);

            bar.appendChild(cell);
          });

          if (container.parentElement) {
            container.parentElement.insertBefore(bar, container.nextSibling);
          } else {
            container.appendChild(bar);
          }
        }

        ensureCollaboratorsBar();
        try {
          var collObs = new MutationObserver(function(){ ensureCollaboratorsBar(); });
          collObs.observe(document.body, { childList: true, subtree: true });
        } catch (_) {}
      });
    </script>
  </body>
</html>
